<head>
  <title>viewmodel-demo</title>
</head>

<body>
  {{> demoVM}}
</body>

<template name="demoVM">
    <input {{b "value: title"}} type="text">
    <label {{b "text: title"}}></label>
    <br />
    {{>dynamicForm }}
</template>

<template name="dynamicForm">
    <button {{b "click: add('hero','layout.$.hero')"}}>Add Hero</button>
    <button {{b "click: add('billboard','layout.$.billboard')"}}>Add Billboard</button>
    <ul>
    {{#each collection}}
        {{> arrayItem}}
    {{/each}}
    </ul>
    <button {{b "click: submit"}}>submit</button>
</template>

<template name="arrayItem">
    <li>
        <hr />
        <button {{b "click: delete"}}>Del</button>
        {{>Template.dynamic template=item data=(getData(_id)) }}
        <hr />
    </li>
</template>

<template name="hero">
    <div>
        <div>hero Item:</div>
        <input {{b "value: title"}} type="text">
        <input {{b "value: alignment"}} type="text">
        <button {{b "click: save('hero')"}}>Save</button>
    </div>
</template>

<template name="billboard">
    <div>
        <div>billboard Item:</div>
        <input {{b "value: title"}} type="text">
        <input {{b "value: background"}} type="text">
      <button {{b "click: save('billboard')"}}>Save</button>
    </div>
</template>
